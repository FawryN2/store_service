<div class="store-detail">
  <div class="page-header">
    <button class="btn btn-outline" (click)="goBack()">
      ← Back to Stores
    </button>
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Loading store details...</p>
  </div>

  <div *ngIf="error" class="alert alert-error">
    {{ error }}
    <button class="btn btn-primary" (click)="loadStoreDetails()">Retry</button>
  </div>

  <div *ngIf="!loading && !error && store">
    <!-- Store Information -->
    <div class="store-info-card">
      <div class="store-header">
        <div class="store-icon">🏪</div>
        <div class="store-details">
          <h1>{{ store.name }}</h1>
          <p class="store-location">📍 {{ store.location }}</p>
          <p class="store-id">ID: {{ store.id }}</p>
        </div>
      </div>
    </div>

    <!-- Statistics -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">📦</div>
        <div class="stat-content">
          <h3>{{ getTotalStockItems() }}</h3>
          <p>Stock Items</p>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">📊</div>
        <div class="stat-content">
          <h3>{{ getTotalQuantity() }}</h3>
          <p>Total Quantity</p>
        </div>
      </div>

      <div class="stat-card" [class.warning]="getLowStockCount() > 0">
        <div class="stat-icon">⚠️</div>
        <div class="stat-content">
          <h3>{{ getLowStockCount() }}</h3>
          <p>Low Stock Items</p>
        </div>
      </div>
    </div>

    <!-- Stock Items -->
    <div class="stock-section">
      <div class="section-header">
        <h2>📦 Stock Items</h2>
        <a routerLink="/stocks" class="btn btn-primary">
          Manage All Stocks
        </a>
      </div>

      <div *ngIf="stocks.length === 0" class="empty-state">
        <div class="empty-icon">📦</div>
        <h3>No Stock Items</h3>
        <p>This store doesn't have any stock items yet</p>
        <a routerLink="/stocks" class="btn btn-primary">
          Add Stock Items
        </a>
      </div>

      <div *ngIf="stocks.length > 0" class="card">
        <table class="table">
          <thead>
            <tr>
              <th>SKU</th>
              <th>Quantity</th>
              <th>Status</th>
              <th>Created</th>
              <th>Last Updated</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let stock of stocks">
              <td>
                <span class="sku-badge">{{ stock.sku }}</span>
              </td>
              <td>
                <span class="quantity-badge" [class.low]="stock.quantity < 10">
                  {{ stock.quantity }}
                </span>
              </td>
              <td>
                <span class="status-badge" 
                      [class.warning]="stock.quantity < 10"
                      [class.success]="stock.quantity >= 10">
                  {{ stock.quantity < 10 ? 'Low Stock' : 'In Stock' }}
                </span>
              </td>
              <td>{{ stock.createdAt | date:'short' }}</td>
              <td>{{ stock.updatedAt | date:'short' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>